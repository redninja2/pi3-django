{% extends 'layout.html' %}
{% block title %}Sensor Readings{% endblock %}
{% block head %}
<style>
    .error {
        color: red;
    }
</style>
{% endblock %}
{% block main_content %}
<p class="error">{{ error_message }}</p>

{% if results %}
<h1>{{ results|length }} Results</h1>
{% load temp_tags %}
{% if results|length > 15 %}

{% endif %}
<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th>Date</th>
            <th>Temperature</th>
            <th>Humidity</th>
            <th>Heat Index</th>
        </tr>
    </thead>
    <tbody>
    {% for result in results %}
        <tr class="page-{{ forloop.counter0|page:15 }}">
            <td>{{ result.0 }}</td>
            <td>{{ result.1 }}</td>
            <td>{{ result.2 }}</td>
            <td>{{ result.3 }}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>

{% elif rowcount %}
<h1>{{ rowcount }} Results</h1>
{% else %}
<div class="row">
    <form action="" method="get">
    	<fieldset name="messageForm" id="messageForm">
			<h3>Please enter the number of minutes you want to get results from.</h3>
			<h4>Example: "60" will return the results from the past 60 minutes.</h4>
			<input type="number" placeholder="Minutes" name="min" id="min" required="required" />
    		<input type="submit" id="submit" value="Submit" />
    	</fieldset>
    </form>
</div>
{% endif %}
{% endblock %}

{% block endbody %}
{{ block.super }}
<script>
    
</script>
{% endblock %}